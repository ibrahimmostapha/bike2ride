function scrolling(){var t=$(window).width(),n;t>=576&&(n=$(document).scrollTop(),n>450?$("#top").hasClass("scrolled")||($("#top").addClass("scrolled"),$("#navbarCollapse").removeClass("show")):$("#top").hasClass("scrolled")&&($("#top").removeClass("scrolled"),$("#navbarCollapse").addClass("show")))}function initPager(){$(".pager a").click(function(){var n=$(this).attr("href"),i=$(this),t=n+"?async=1";return n.indexOf("?")>0&&(t=n+"&async=1"),$.post({url:t,data:{},dataType:"html",success:function(t){var r=i.parents(".con"),u=$(r.data("pos")).offset().top-topFixedHeight;r.html(t);history.pushState({},document.title,n);initPager();$("html,body").animate({scrollTop:u},50)},error:function(n){console.log(n)}}),!1})}var queryValue,topFixedHeight,homepage;$("input.keyword").focus(function(){$(this).parent().addClass("active");$(this).parent().find("input[type=image]").attr("src","/images/icon-search-active.svg")});$("input.keyword").blur(function(){$(this).parent().removeClass("active");$(this).parent().find("input[type=image]").attr("src","/images/icon-search.svg")});$("#search-small,#search").submit(function(){var n=$(this)[0].q.value;return n!==null&&n!==""?($(this).find("input[type=image]").attr("disabled","true"),!0):($(this)[0].q.placeholder="Please input something",!1)});queryValue="";$("input[name=q]").keydown(function(n){if(n.which===13){var r=$(this).parent(),u=$(this),t=r.find(".suggest");if(t.css("display")!=="none"){var f=t.find("li"),e=t.data("index"),i=$(f[e]).data("word");i&&u.val(i)}}});$("input[name=q]").keyup(function(n){var o,r,u,i;console.log(n.which);var f=$(this).parent(),e=$(this),t=f.find(".suggest");t.length===0&&(o="<div class='suggest' data-index='-1'><\/div>",f.append(o),t=f.find(".suggest"));r=$(this).val();queryValue!==r?(queryValue=r,r&&r.length>=1?$.get({url:"/search/suggest",data:{q:r},dataType:"json",success:function(n){var u,s,i,f,o;if(n&&n.length>0){for(u="<ul>",s=new RegExp("^"+r,"gi"),i=0;i<n.length;i++)f=n[i],f=f.replace(s,"<b>"+r+"<\/b>"),u+="<li data-index='"+i+"' data-word='"+n[i]+"'>"+f+"<\/li>";u+="<\/ul>";t.html(u);t.show(200);o=t.find("li");o.hover(function(){o.removeClass("sel");$(this).addClass("sel");var n=$(this).data("index");t.data("index",n)});o.click(function(){var n=$(this).data("word");e.val(n);e.parent().submit()})}else t.hide(200)},error:function(n){console.log(n)}}):t.hide(200)):(u=t.find("li"),i=t.data("index"),console.log(n.which),n.which===38?(u.removeClass("sel"),i--,i<0&&(i=u.length-1),$(u[i]).addClass("sel"),t.data("index",i)):n.which===40?(u.removeClass("sel"),i++,i>=u.length&&(i=0),$(u[i]).addClass("sel"),t.data("index",i)):n.which===27&&t.hide(200))});$("input[name=q]").blur(function(){var n=$(this);setTimeout(function(){n.parent().find(".suggest").hide(200)},100)});topFixedHeight=120;$("#bg-options").ready(function(){function t(n,t){n=parseInt(n);$.cookie("bg-option",n,{path:"/"});var i=(3-n)*29-1;$("#bg-options .bg-sel").animate({right:i},t);$("body").removeClass("bg-0");$("body").removeClass("bg-1");$("body").removeClass("bg-2");$("body").removeClass("bg-3");$("body").addClass("bg-"+n)}var n=$.cookie("bg-option")?$.cookie("bg-option"):0;n>0&&!homepage&&t(n,10);$("#bg-options .bg-item").click(function(){var i=$.cookie("bg-option")?$.cookie("bg-option"):"0",n=$(this).attr("tag");n!==i&&t(n,100)});$(".download.png").hover(function(){})});homepage=!1;$.ready(function(){initPager()});